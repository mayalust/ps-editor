<config defaultRouter = "true"
        injector="$scope,$rootScope,$q,$timeout,psCommand"
></config>
<template>
  <div>
    <free-board-editor
        data-setting="setting"
        data-options="options"
        data-on-save="onSave(d)">
    </free-board-editor>
  </div>
</template>
<script type="text/javascript">
  export default function(scope,rootScope,q,timeout,psCommand) {
    let storage = window.localStorage, dt = storage["freeboardView"], obj;
    scope.onSave = function(d){
      storage["freeboardView"] = d;
    }
    if(dt){
      try{
        obj = JSON.parse(dt)
      } catch(e){
        obj = []
      } finally {
        scope.options = obj.data || [];
        scope.setting = { attributes : obj.setting || {} } ;
      }
    }
  }
</script>
<style type="less">

</style>